# æµåŠ¨çš„ SVG çº¿æ¡

**è¯ä¸å¤šè¯´ï¼Œå’±å…ˆä¸Šæ•ˆæœå›¾ï¼š**

![](./images/apple.gif)

æ˜¯ä¸æ˜¯å¾ˆé…·ç‚«ï¼Œè¿™ä¸ªæ•ˆæœæ˜¯ç”¨ SVG+CSS å®ç°çš„ï¼Œç°åœ¨æˆ‘ä»¬å°±æ¥ä¸€èµ·è§£æ„ä¸€ä¸‹è¿™ä¸ªåŠ¨ç”»çš„å®ç°ã€‚

---

## é¢„å¤‡çŸ¥è¯†

### éœ€è¦æŒæ¡çš„å‡ ä¸ª SVG çš„å‡ ä¸ªæ ‡ç­¾ç”¨æ³•

- &lt;path&gt;

  | æŒ‡ä»¤ | å‚æ•°                                                | è¯´æ˜                                                                 |
  | ---- | --------------------------------------------------- | -------------------------------------------------------------------- |
  | M    | x y                                                 | å°†ç”»ç¬”ç§»åŠ¨åˆ°ç‚¹(x,y)                                                  |
  | L    | x y                                                 | ç”»ç¬”ä»å½“å‰çš„ç‚¹ç»˜åˆ¶çº¿æ®µåˆ°ç‚¹(x,y)                                      |
  | H    | x                                                   | ç”»ç¬”ä»å½“å‰çš„ç‚¹ç»˜åˆ¶æ°´å¹³çº¿æ®µåˆ°ç‚¹(x,y0)                                 |
  | V    | y                                                   | ç”»ç¬”ä»å½“å‰çš„ç‚¹ç»˜åˆ¶ç«–ç›´çº¿æ®µåˆ°ç‚¹(x0,y)                                 |
  | A    | rx ry x-axis-rotation large-arc-flag sweep-flag x y | ç”»ç¬”ä»å½“å‰çš„ç‚¹ç»˜åˆ¶ä¸€æ®µåœ†å¼§åˆ°ç‚¹(x,y)                                  |
  | C    | x1 y1, x2 y2, x y                                   | ç”»ç¬”ä»å½“å‰çš„ç‚¹ç»˜åˆ¶ä¸€æ®µä¸‰æ¬¡è´å¡å°”æ›²çº¿åˆ°ç‚¹(x,y)                        |
  | S    | x2 y2, x y                                          | ç‰¹æ®Šç‰ˆæœ¬çš„ä¸‰æ¬¡è´å¡å°”æ›²çº¿(çœç•¥ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹)                           |
  | Q    | x1 y1, x y                                          | ç»˜åˆ¶äºŒæ¬¡è´å¡å°”æ›²çº¿åˆ°ç‚¹(x,y)                                          |
  | T    | x y                                                 | ç‰¹æ®Šç‰ˆæœ¬çš„äºŒæ¬¡è´å¡å°”æ›²çº¿(çœç•¥æ§åˆ¶ç‚¹)                                 |
  | Z    | æ— å‚æ•°                                              | ç»˜åˆ¶é—­åˆå›¾å½¢ï¼Œå¦‚æœ d å±æ€§ä¸æŒ‡å®š Z å‘½ä»¤ï¼Œåˆ™ç»˜åˆ¶çº¿æ®µï¼Œè€Œä¸æ˜¯å°é—­å›¾å½¢ã€‚ |

  _path çš„æŒ‡ä»¤ä¸€å…±æœ‰ 9 ç§ï¼Œä½†å®ç°æˆ‘ä»¬çš„åŠ¨ç”»æˆ‘ä»¬åªè¿ç”¨äº†å…¶ä¸­ä¸¤ä¸ªï¼šA å’Œ Zï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œç€é‡è®¨è®ºä¸€ä¸‹ A æŒ‡ä»¤ï¼_

  **ç»˜åˆ¶åœ†å¼§æŒ‡ä»¤ï¼šA rx ry x-axis-rotation large-arc-flag sweep-flag x y**

  > å¯¹äºç»™å®šä¸¤ä¸ªç‚¹ï¼ˆä¸€ä¸ªèµ·ç‚¹ä¸€ä¸ªç»ˆç‚¹ï¼‰å’Œä¸€ä¸ªåŠå¾„ï¼Œå¯ä»¥ç”» 4 æ¡å¼§çº¿ã€‚è¿™å››æ¡å¼§çº¿å¯ä»¥æŒ‰ç…§ä¸¤ç§åˆ†æ³•ï¼š
  >
  > 1. æŒ‰è§’åº¦åˆ†
  >    - å¤§äº 180Â° çš„
  >    - å°äº 180Â° çš„
  > 2. æŒ‰ç”»ç¬”æ–¹å‘åˆ†
  >    - é¡ºæ—¶é’ˆæ–¹å‘
  >    - é€†æ—¶é’ˆæ–¹å‘
  >
  > ![ä¸¤ç‚¹é—´çš„4ç§åœ†å¼§](C:/Users/kiman/Desktop/SVG/images/%E5%9C%86%E5%BC%A7.png)

  - rx,ry æ˜¯å¼§çš„åŠé•¿è½´ã€åŠçŸ­è½´é•¿åº¦
  - x-axis-rotation æ˜¯åœ†å¼§æ—‹è½¬è§’åº¦ï¼Œæ˜¯æ­¤æ®µå¼§æ‰€åœ¨çš„åŠé•¿è½´ä¸æ°´å¹³æ–¹å‘çš„å¤¹è§’ã€‚æ­£æ•°ä»£è¡¨é¡ºæ—¶é’ˆè½¬åŠ¨çš„è§’åº¦ã€‚
  - large-arc-flag ä¸º 1 è¡¨ç¤ºå¤§è§’åº¦å¼§çº¿ï¼Œ0 ä»£è¡¨å°è§’åº¦å¼§çº¿ã€‚
  - sweep-flag ä¸º 1 ä»£è¡¨ä»èµ·ç‚¹åˆ°ç»ˆç‚¹å¼§çº¿ç»•ä¸­å¿ƒé¡ºæ—¶é’ˆæ–¹å‘ï¼Œ0 ä»£è¡¨é€†æ—¶é’ˆæ–¹å‘ã€‚
  - x,y æ˜¯å¼§ç»ˆç«¯åæ ‡ã€‚

- &lt;defs&gt;

  > SVG å…è®¸æˆ‘ä»¬å®šä¹‰ä»¥åéœ€è¦é‡å¤ä½¿ç”¨çš„å›¾å½¢å…ƒç´ ã€‚ å»ºè®®æŠŠæ‰€æœ‰éœ€è¦å†æ¬¡ä½¿ç”¨çš„å¼•ç”¨å…ƒç´ å®šä¹‰åœ¨`defs`å…ƒç´ é‡Œé¢ã€‚è¿™æ ·åšå¯ä»¥å¢åŠ  SVG å†…å®¹çš„æ˜“è¯»æ€§å’Œå¯è®¿é—®æ€§ã€‚ åœ¨`defs`å…ƒç´ ä¸­å®šä¹‰çš„å›¾å½¢å…ƒç´ ä¸ä¼šç›´æ¥å‘ˆç°ã€‚ ä½ å¯ä»¥åœ¨ä½ çš„è§†å£çš„ä»»æ„åœ°æ–¹åˆ©ç”¨ [``](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/use)å…ƒç´ å‘ˆç°è¿™äº›å…ƒç´ ã€‚â€”â€”[MDN](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/defs)

  è¿™ä¸ªæ ‡ç­¾çš„ç”¨æ„ç®€å•åœ°è¯´å°±æ˜¯å®šä¹‰ä¸€ä¸ªç»˜å›¾æ¨¡æ¿ï¼Œä»¥ä¾›æˆ‘ä»¬å¯ä»¥åœ¨åˆ«å¤„ç›´æ¥ä½¿ç”¨ã€‚

  åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥å®šä¹‰æˆ‘ä»¬çš„æ¸å˜å…ƒç´ ï¼šlinearGradientã€‚

- &lt;linearGradient&gt;

  > linearGradient å…ƒç´ ç”¨æ¥å®šä¹‰çº¿æ€§æ¸å˜ï¼Œç”¨äºå›¾å½¢å…ƒç´ çš„å¡«å……æˆ–æè¾¹ã€‚â€”â€”[MDN](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/linearGradient)

  ä¸€ä¸ªæ¸å˜ä¸Šçš„é¢œè‰²å¡åº¦ï¼Œæ˜¯ç”¨ stop å…ƒç´ å®šä¹‰çš„ã€‚

  _ä¾‹å¦‚ï¼š_

  ```html
  <stop offset="5%" stop-color="#F60" />
  ```

  _è¿™è¡Œä»£ç çš„æ„æ€æ˜¯ï¼šåœ¨è·ç¦»èµ·ç‚¹ä½ç½®åç§» 5%çš„åœ°æ–¹é¢œè‰²ä¸º #F60ã€‚_

  **æˆ‘ä»¬åœ¨å¼•ç”¨è‡ªå·±å®šä¹‰çš„æ¸å˜è¿›è¡Œå¡«å……é¢œè‰²è®¾ç½®æˆ–ç”»ç¬”é¢œè‰²è®¾ç½®æ—¶ï¼Œä»…éœ€è¦ç”¨ url()çš„æ–¹å¼é“¾å…¥æ¸å˜çš„ ID å³å¯ï¼Œå…·ä½“å¦‚ä¸‹ï¼š**

  ```html
  stroke="url(#linear)"
  ```

  _è¿™é‡Œæˆ‘ä»¬å°†ç”»ç¬”çš„é¢œè‰²è®¾ç½®ä¸ºäº† ID ä¸º linear çš„æ¸å˜ã€‚_

### è¿˜æœ‰ä¸¤ä¸ªå±æ€§ï¼š

- stroke-dasharray

  **ç”¨äºåˆ›å»ºè™šçº¿ï¼š**

  ```css
  stroke-dasharray = '10'
  stroke-dasharray = '10, 10'
  stroke-dasharray = '10, 10, 5, 5'
  ```

![](./images/stroke-dasharray.png)

_ç»˜åˆ¶è™šçº¿: ä¸€ä¸ªå‚æ•°æ—¶ï¼š è¡¨ç¤ºä¸€æ®µè™šçº¿é•¿åº¦å’Œæ¯æ®µè™šçº¿ä¹‹é—´çš„é—´è·_ ã€‚

_ä¸¤ä¸ªå‚æ•°æˆ–è€…å¤šä¸ªå‚æ•°æ—¶ï¼šä¸€ä¸ªè¡¨ç¤ºé•¿åº¦ï¼Œä¸€ä¸ªè¡¨ç¤ºé—´è·_

- stroke-dashoffset

  > stroke-dashoffset å±æ€§æŒ‡å®šäº† dash æ¨¡å¼åˆ°è·¯å¾„å¼€å§‹çš„è·ç¦»
  >
  > å¦‚æœä½¿ç”¨äº†ä¸€ä¸ª ç™¾åˆ†æ¯”å€¼ï¼Œ é‚£ä¹ˆè¿™ä¸ªå€¼å°±ä»£è¡¨äº†å½“å‰ viewport çš„ä¸€ä¸ªç™¾åˆ†æ¯”ã€‚
  >
  > å€¼å¯ä»¥å–ä¸ºè´Ÿå€¼ã€‚â€”â€”[MDN](https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/stroke-dashoffset)

  ç®€å•çš„è®²ï¼Œstroke-dashoffset è®¾ç½®çš„æ˜¯ç”»ç¬”èµ·ç‚¹çš„åç§»é‡ï¼Œæ­£å€¼å‘å·¦åç§»ã€‚

## å…·ä½“å®ç°

### ç”» SVG è·¯å¾„

ç¬”è€…é€šè¿‡æç‚¹ï¼Œå°†ç½‘ä¸Šä¸‹è½½ä¸‹æ¥çš„ä¸€å¼ è‹¹æœå›¾æå‡ºäº† SVGï¼Œå¯èƒ½ä¸å¤§ç²¾ç¡®ï¼Œä½†æ˜¯åº”è¯¥å¤Ÿç”¨ã€‚è¿™é‡Œæ”¾ä¸€ä¸‹æˆ‘æç‚¹çš„å›¾ï¼š

![](./images/apple-cad.jpg)

```
<path
  stroke-linecap="round"
  fill="none"
  stroke-width="10"
  stroke="url(#linear)"
  d="
M 197,148
A 87,87,0,0,0,79,214
A 282,282,0,0,0,148,438
A 54,54,0,0,0,212,448
A 87,87,0,0,1,288,448
A 54,54,0,0,0,352,438
A 282,282,0,0,0,407,350
A 87,87,0,0,1,413,189
A 87,87,0,0,0,303,148
A 141,141,0,0,1,197,148
Z
"
/>
<path
  stroke-linecap="round"
  fill="none"
  stroke="url(#linear)"
  stroke-width="10"
  d="
M 237,141
A 87,87,0,0,0,314,64
A 87,87,0,0,0,237,141
Z
"
/>
```

å¹¶ä¸”æˆ‘å°†æˆ‘çš„ç”»ç¬”é¢œè‰²è®¾ç½®ä¸ºå³å°†ç¼–å†™çš„æ¸å˜ idã€‚

### å®šä¹‰æ¸å˜è‰²

```html
<defs>
  <linearGradient id="linear" x1="0%" y1="0%" x2="100%" y2="100%">
    <stop offset="0%" stop-color="rgb(98, 180, 76)" />
    <stop offset="20%" stop-color="rgb(242, 179, 61)" />
    <stop offset="40%" stop-color="rgb(238, 125, 55)" />
    <stop offset="60%" stop-color="rgb(205, 58, 71)" />
    <stop offset="80%" stop-color="rgb(142, 61, 140)" />
    <stop offset="100%" stop-color="rgb(39, 155, 213)" />
  </linearGradient>
</defs>
```

ä¸ºäº†æ˜¾ç¤ºä¸ºå½©è‰²ï¼Œæˆ‘è®¾ç½®äº†å…­ä¸ªæ¸å˜é¢œè‰²èŠ‚ç‚¹ã€‚

**å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šæ¸å˜é¢œè‰²çš„å³ä¾¿åº”ç”¨åœ¨ç”»ç¬”ä¸Šï¼Œä»–çš„å¡«è‰²è¿˜æ˜¯æŒ‰ç…§é¢çš„é¢œè‰²å¡«å……æ¥å¡«å……çš„ã€‚å°±æ‹¿è¿™ä¸ªä¾‹å­æ¥è¯´ï¼Œæˆ‘åœ¨ linearGradient ä¸Šå®šä¹‰äº†*x1="0%" y1="0%" x2="100%" y2="100%"*ï¼Œä½¿é¡µé¢ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’é¢œè‰²æ˜¾ç¤ºä¸ºæ¸å˜ï¼Œè€Œä¸æ˜¯è·¯å¾„çš„èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æ¸å˜ï¼Œæ‰€ä»¥æˆ‘ä»¬å®šä¹‰æ¸å˜åœ¨ 0%å’Œ 100%çš„é¢œè‰²å¹¶ä¸éœ€è¦ä¸€æ ·ã€‚ï¼ˆå®é™…ä¸Šæˆ‘ä»¬ä¹Ÿä¸èƒ½å®šä¹‰ä»è·¯å¾„çš„èµ·ç‚¹åˆ°ç»ˆç‚¹çš„æ¸å˜ï¼‰**

### JavaScript è·å–è·¯å¾„é•¿åº¦

```js
let pathLength = document.querySelectorAll("path");
pathLength.forEach((item, index) => {
  let itemLength = Math.ceil(item.getTotalLength());
  console.log(itemLength);
});
```

![](./images/length.png)

è¿™é‡Œæˆ‘ä»¬è¿ç”¨åˆ°äº†ä¸€ä¸ª JavaScript APIï¼šgetTotalLength()ï¼Œç”¨äºè·å–è·¯å¾„é•¿åº¦ï¼Œæ–¹ä¾¿æˆ‘ä»¬è®¾ç½®åç§»é‡ã€‚

### è®¾ç½®åŠ¨ç”»

```css
path {
  animation: dash 5s linear forwards;
}
path:nth-child(2) {
  stroke-dasharray: 1162;
  stroke-dashoffset: -1162;
}
path:nth-child(3) {
  stroke-dasharray: 236;
  stroke-dashoffset: -236;
}
@keyframes dash {
  to {
    stroke-dashoffset: 0;
  }
}
```

æˆ‘ä»¬çš„åŠ¨ç”»ä½¿ä»æ— åˆ°æœ‰çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†è™šçº¿é•¿åº¦å’Œæ¯æ®µè™šçº¿ä¹‹é—´çš„é—´è·\*éƒ½è®¾ç½®ä¸ºè·¯å¾„çš„é•¿åº¦ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬æ˜¾ç¤ºçš„åº”è¯¥æ˜¯å®Œæ•´çš„è‹¹æœ logoã€‚

å½“æˆ‘ä»¬è®¾ç½® stroke-dashoffset ä¸ºè·¯å¾„é•¿åº¦çš„æ—¶å€™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†ç”»é¢çš„è™šçº¿éƒ¨åˆ†å®Œå…¨éšè—åœ¨äº†ç”»ç¬”èµ·ç‚¹ä¹‹å‰ã€‚æ•´ä¸ªç”»é¢å°†æ˜¯ç©ºç©ºå¦‚ä¹Ÿï¼

è¿™æ—¶å€™æˆ‘ä»¬ä¸ºä¸¤ä¸ª path æ·»åŠ åŠ¨ç”»ï¼Œè®©å…¶åœ¨ 5s ä¹‹å†…åŒ€é€Ÿçš„æ”¹å˜ stroke-dashoffset è‡³ 0ï¼Œé‚£ä¹ˆå‘ˆç°åœ¨æˆ‘ä»¬çœ¼å‰çš„å°±æ˜¯å¦‚å‰é¢çš„åŠ¨å›¾æ‰€ç¤ºï¼Œä¸€ä¸ªåŠ¨æ€ç»˜åˆ¶ logo çš„è¿‡ç¨‹ã€‚

## ç±»ä¼¼åŠ¨ç”»çš„å…¶ä»–å®ç°

**å…ˆä¸Šæ•ˆæœå›¾ï¼š**

![](./images/wechat.gif)

**å®ç°ä»£ç å¦‚ä¸‹ï¼š**

```html
<svg
  xmlns="http://www.w3.org/2000/svg"
  width="200px"
  height="164.50px"
  class="icon"
  version="1.1"
  viewBox="0 0 1245 1024"
  id="logo-pic"
>
  <defs>
    <linearGradient id="linear" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#05a" />
      <stop offset="100%" stop-color="#0a5" />
    </linearGradient>
  </defs>
  <path
    fill="url(#linear)"
    d="M870.953514 333.768649c-209.781622 0-374.867027 145.020541-374.867028 322.836756s165.223784 322.836757 374.867028 322.836757a548.116757 548.116757 0 0 0 132.289729-22.417297L1124.185946 1024l-33.210811-110.702703C1179.537297 845.768649 1245.405405 756.92973 1245.405405 656.605405c0-177.816216-176.294054-322.836757-374.451891-322.836756z m-121.496217 267.208648A47.463784 47.463784 0 0 1 705.72973 556.419459 47.740541 47.740541 0 0 1 749.457297 512c33.349189 0 55.351351 22.278919 55.351352 44.557838s-22.002162 44.419459-55.351352 44.419459z m242.438919 0a47.325405 47.325405 0 0 1-43.727567-44.557838A47.602162 47.602162 0 0 1 991.896216 512c33.072432 0 55.351351 22.278919 55.351352 44.557838s-22.278919 44.419459-55.351352 44.419459z"
  />
  <path
    fill="url(#linear)"
    d="M440.735135 0C198.434595 0 0 166.054054 0 378.326486c0 122.188108 66.006486 222.512432 176.432432 300.41946l-44.142702 133.811892 154.153513-77.907027c55.351351 10.931892 99.355676 22.278919 154.430271 22.278919 13.837838 0 27.675676 0 41.513513-1.798919a334.045405 334.045405 0 0 1-13.837838-93.267027c0-193.72973 166.054054-352.034595 374.728649-352.034595a378.88 378.88 0 0 1 42.482162 2.629189C847.429189 133.12 657.574054 0 440.735135 0zM294.192432 296.683243a53.137297 53.137297 0 1 1 52.722163-53.137297 52.860541 52.860541 0 0 1-52.722163 53.137297z m314.395676 0a53.137297 53.137297 0 1 1 52.722162-53.137297A52.860541 52.860541 0 0 1 608.864865 296.683243z"
  />
</svg>
<svg
  xmlns="http://www.w3.org/2000/svg"
  width="100%"
  height="2rem"
  id="logo-name"
>
  <text text-anchor="middle" x="50%" y="50%" class="logo logo-name-text-1">
    WeChat
  </text>
  <text text-anchor="middle" x="50%" y="50%" class="logo logo-name-text-2">
    WeChat
  </text>
  <text text-anchor="middle" x="50%" y="50%" class="logo logo-name-text-3">
    WeChat
  </text>
</svg>
```

_å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ SVG ä¸­æ–‡å­—ä¹Ÿå¯ä»¥å°†è¾¹æ¡†å’Œå¡«å……åˆ†å¼€æ¥å¡«è‰²ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å°†æ–‡å­—çš„è¾¹æ¡†è®¾ä¸ºæœ€å¼€å§‹å®šä¹‰çš„æ¸å˜è‰²ï¼Œè€Œå¡«å……è®¾ç½®ä¸º noneã€‚_

```css
#logo-pic {
  width: 75px;
  height: 75px;
}
.logo {
  font-size: 1.25rem;
  font-weight: bold;
  fill: none;
  stroke-width: 1px;
  stroke-dasharray: 30% 70%;
  animation: stroke 4.5s infinite linear;
}
.logo-name-text-1 {
  stroke: rgb(0, 169, 86);
}
.logo-name-text-2 {
  stroke: rgb(0, 127, 129);
  animation-delay: -1.5s;
}
.logo-name-text-3 {
  stroke: rgb(0, 86, 168);
  animation-delay: -3s;
}
@keyframes stroke {
  to {
    stroke-dashoffset: -100%;
  }
}
```

---

ç¬”è€…ä¸“é—¨åœ¨ github ä¸Šåˆ›å»ºäº†ä¸€ä¸ªä»“åº“ï¼Œç”¨äºè®°å½•å¹³æ—¶å­¦ä¹ å…¨æ ˆå¼€å‘ä¸­çš„æŠ€å·§ã€éš¾ç‚¹ã€æ˜“é”™ç‚¹ï¼Œæ¬¢è¿å¤§å®¶ç‚¹å‡»ä¸‹æ–¹é“¾æ¥æµè§ˆã€‚å¦‚æœè§‰å¾—è¿˜ä¸é”™ï¼Œå°±è¯·ç»™ä¸ªå°æ˜Ÿæ˜Ÿå§ï¼ğŸ‘

---

2019/04/02

[AJie](https://github.com/KevinSalvatore/FullStackPoints.git)
